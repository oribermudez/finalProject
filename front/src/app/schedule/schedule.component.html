<app-tech-nav></app-tech-nav>
<ul class="collection">
    <li *ngFor="let ticket of tickets" class="collection-item avatar">
      <span class="title"><b>Ticket: {{ticket._id.substring(16)}}</b></span>
      <p><b>Services down:</b> {{ticket.services}}<br>
         <b>Created by:</b> {{ticket.owner}}<br>
         <b>Address:</b> {{ticket.location.address}}<br>
         <b>Created at:</b> {{ticket.created_at}} <br>
         <b>Status:</b> {{ticket.status}}
      </p>
      <div>
        <ul class="hori">
            <li><a (click)="changeStatus(ticket)" class="btn-floating blue"><i class="material-icons">publish</i></a></li>
            <li><a (click)="arrivedLocation(ticket)" class="btn-floating black darken-1"><i class="material-icons">home</i></a></li>
            <li><a (click)="getID(ticket)" class="btn-floating green modal-trigger" href="#modal1"><i class="material-icons">attach_file</i></a></li>
          </ul>
        </div>
  </li>
</ul>


<!-- Modal Structure -->
<div id="modal1" class="modal bottom-sheet">
  <div class="modal-content">
    <h5>Service working picture</h5>
      <form action="#">
          <div class="file-field input-field">
            <div class="btn">
              <span>File</span>
              <input type="file" name="file" ng2FileSelect [uploader]="uploader" />      
            </div>
            <div class="file-path-wrapper">
              <input class="file-path validate" type="text" placeholder="Upload picture">
            </div>
          </div>
        </form>
  </div>
  <div class="modal-footer">
      <button id="send-btn" (click)="modifyTicket()" class="btn waves-effect waves-light" type="submit" >Send</button>
  </div>
</div>